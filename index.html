<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Backgammon</title>
    <link rel="stylesheet" href="index.css"/>
    <script src="index.js" type="module"></script>
  </head>
  <body>
    <svg width='100%' height='100%' viewBox="0 0 600 480">
      <defs>
        <!-- The point should have dimensions 1:4, so exactly 4 stacked checkers can fill a point -->
        <polyline id="point" points="2,0 20,158 38,0" stroke-width="4" stroke-linejoin="round" stroke-linecap="square"/>
        <circle id="drop-point" r="6" fill="darkorange"/>
        <!-- A checker has a height of 5. This matters when displaying the checker height in the hold after bearing off. -->
        <circle id="checker"/>
        <rect id="hold" rx="4"/>
        <rect id="die-face-background" width="40" height="40" rx="4" fill="firebrick"/>
        <g id="die-face-pip-1">
          <use href="#die-face-background"/>
          <circle class="die-pip" cx="20" cy="20"/>
        </g>
        <g id="die-face-pip-2">
          <use href="#die-face-background"/>
          <circle class="die-pip" cx="10" cy="10"/>
          <circle class="die-pip" cx="30" cy="30"/>
        </g>
        <g id="die-face-pip-3">
          <use href="#die-face-background"/>
          <circle class="die-pip" cx="10" cy="10"/>
          <circle class="die-pip" cx="20" cy="20"/>
          <circle class="die-pip" cx="30" cy="30"/>
        </g>
        <g id="die-face-pip-4">
          <use href="#die-face-background"/>
          <circle class="die-pip" cx="10" cy="10"/>
          <circle class="die-pip" cx="10" cy="30"/>
          <circle class="die-pip" cx="30" cy="10"/>
          <circle class="die-pip" cx="30" cy="30"/>
        </g>
        <g id="die-face-pip-5">
          <use href="#die-face-background"/>
          <circle class="die-pip" cx="10" cy="10"/>
          <circle class="die-pip" cx="10" cy="30"/>
          <circle class="die-pip" cx="20" cy="20"/>
          <circle class="die-pip" cx="30" cy="10"/>
          <circle class="die-pip" cx="30" cy="30"/>
        </g>
        <g id="die-face-pip-6">
          <use href="#die-face-background"/>
          <circle class="die-pip" cx="10" cy="10"/>
          <circle class="die-pip" cx="10" cy="20"/>
          <circle class="die-pip" cx="10" cy="30"/>
          <circle class="die-pip" cx="30" cy="10"/>
          <circle class="die-pip" cx="30" cy="20"/>
          <circle class="die-pip" cx="30" cy="30"/>
        </g>
      </defs>

      <g transform="translate(20 30)">
        <g class="half">
          <rect/>
          <g class="quadrant">
            <use href="#point" data-point="13"/>
            <use href="#point" data-point="14"/>
            <use href="#point" data-point="15"/>
            <use href="#point" data-point="16"/>
            <use href="#point" data-point="17"/>
            <use href="#point" data-point="18"/>
          </g>
          <g class="quadrant">
            <use href="#point" data-point="7"/>
            <use href="#point" data-point="8"/>
            <use href="#point" data-point="9"/>
            <use href="#point" data-point="10"/>
            <use href="#point" data-point="11"/>
            <use href="#point" data-point="12"/>
          </g>
        </g>
        <g class="half">
          <rect/>
          <g class="quadrant">
            <use href="#point" data-point="19"/>
            <use href="#point" data-point="20"/>
            <use href="#point" data-point="21"/>
            <use href="#point" data-point="22"/>
            <use href="#point" data-point="23"/>
            <use href="#point" data-point="24"/>
          </g>
          <g class="quadrant">
            <use href="#point" data-point="1"/>
            <use href="#point" data-point="2"/>
            <use href="#point" data-point="3"/>
            <use href="#point" data-point="4"/>
            <use href="#point" data-point="5"/>
            <use href="#point" data-point="6"/>
          </g>
        </g>
      </g>
      <use href="#hold"/>
      <use href="#hold"/>

      <foreignObject transform="translate(20 30)">
        <button id="undo" type="button">Undo</button>
      </foreignObject>

      <foreignObject transform="translate(20 30)">
        <button id="roll-dice" type="button">Roll Dice</button>
        <button id="confirm" type="button">Confirm</button>
      </foreignObject>

      <g id="dice" transform="translate(385, 220)"/>

      <g id="checkers" transform="translate(20 30)">
        <use data-player="2" data-point="1" data-point-stack-index="0" href="#checker" style="--point: 1; --point-stack-index: 0;"/>
        <use data-player="2" data-point="1" data-point-stack-index="1" href="#checker" style="--point: 1; --point-stack-index: 1;"/>
        <use data-player="1" data-point="6" data-point-stack-index="0" href="#checker" style="--point: 6; --point-stack-index: 0;"/>
        <use data-player="1" data-point="6" data-point-stack-index="1" href="#checker" style="--point: 6; --point-stack-index: 1;"/>
        <use data-player="1" data-point="6" data-point-stack-index="2" href="#checker" style="--point: 6; --point-stack-index: 2;"/>
        <use data-player="1" data-point="6" data-point-stack-index="3" href="#checker" style="--point: 6; --point-stack-index: 3;"/>
        <use data-player="1" data-point="6" data-point-stack-index="4" href="#checker" style="--point: 6; --point-stack-index: 4;"/>
        <use data-player="1" data-point="8" data-point-stack-index="0" href="#checker" style="--point: 8; --point-stack-index: 0;"/>
        <use data-player="1" data-point="8" data-point-stack-index="1" href="#checker" style="--point: 8; --point-stack-index: 1;"/>
        <use data-player="1" data-point="8" data-point-stack-index="2" href="#checker" style="--point: 8; --point-stack-index: 2;"/>
        <use data-player="2" data-point="12" data-point-stack-index="0" href="#checker" style="--point: 12; --point-stack-index: 0;"/>
        <use data-player="2" data-point="12" data-point-stack-index="1" href="#checker" style="--point: 12; --point-stack-index: 1;"/>
        <use data-player="2" data-point="12" data-point-stack-index="2" href="#checker" style="--point: 12; --point-stack-index: 2;"/>
        <use data-player="2" data-point="12" data-point-stack-index="3" href="#checker" style="--point: 12; --point-stack-index: 3;"/>
        <use data-player="2" data-point="12" data-point-stack-index="4" href="#checker" style="--point: 12; --point-stack-index: 4;"/>
        <use data-player="1" data-point="13" data-point-stack-index="0" href="#checker" style="--point: 13; --point-stack-index: 0;"/>
        <use data-player="1" data-point="13" data-point-stack-index="1" href="#checker" style="--point: 13; --point-stack-index: 1;"/>
        <use data-player="1" data-point="13" data-point-stack-index="2" href="#checker" style="--point: 13; --point-stack-index: 2;"/>
        <use data-player="1" data-point="13" data-point-stack-index="3" href="#checker" style="--point: 13; --point-stack-index: 3;"/>
        <use data-player="1" data-point="13" data-point-stack-index="4" href="#checker" style="--point: 13; --point-stack-index: 4;"/>
        <use data-player="2" data-point="17" data-point-stack-index="0" href="#checker" style="--point: 17; --point-stack-index: 0;"/>
        <use data-player="2" data-point="17" data-point-stack-index="1" href="#checker" style="--point: 17; --point-stack-index: 1;"/>
        <use data-player="2" data-point="17" data-point-stack-index="2" href="#checker" style="--point: 17; --point-stack-index: 2;"/>
        <use data-player="2" data-point="19" data-point-stack-index="0" href="#checker" style="--point: 19; --point-stack-index: 0;"/>
        <use data-player="2" data-point="19" data-point-stack-index="1" href="#checker" style="--point: 19; --point-stack-index: 1;"/>
        <use data-player="2" data-point="19" data-point-stack-index="2" href="#checker" style="--point: 19; --point-stack-index: 2;"/>
        <use data-player="2" data-point="19" data-point-stack-index="3" href="#checker" style="--point: 19; --point-stack-index: 3;"/>
        <use data-player="2" data-point="19" data-point-stack-index="4" href="#checker" style="--point: 19; --point-stack-index: 4;"/>
        <use data-player="1" data-point="24" data-point-stack-index="0" href="#checker" style="--point: 24; --point-stack-index: 0;"/>
        <use data-player="1" data-point="24" data-point-stack-index="1" href="#checker" style="--point: 24; --point-stack-index: 1;"/>
      </g>

      <g id="drop-points"/>
    </svg>
  </body>
</html>
